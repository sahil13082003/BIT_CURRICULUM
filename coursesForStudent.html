<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Enrollment</title>
    <script src="javascript.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        .star {
            font-size: 10vh;
        }

        .one {
            color: rgb(255, 0, 0);
        }

        .two {
            color: rgb(255, 106, 0);
        }

        .three {
            color: rgb(133, 135, 74);
        }

        .four {
            color: rgb(255, 255, 0);
        }

        .five {
            color: rgb(24, 159, 14);
            background-color: rgb(220, 220, 37);
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg"
    style="background-image: linear-gradient(to right,white,#2196f3);color: white;">
    <div class="container-fluid">
        <img src="logo.png" width="100px" height="auto">
    </div>
</nav>

    <div class="container mt-2 border border-primary rounded-2" style="background-color: #55718e;">
        <h2 class="mt-3 mb-3 ml-3" style="color: #2196f3;">Enrollment</h2>
        <h2 class="m-3 text-light">Software Testing Using Selenium</h2>
        <p style="text-align: justify;color: aliceblue;"> Lorem, ipsum dolor sit amet consectetur adipisicing elit.
            Deleniti numquam tenetur deserunt laborum hic, doloremque ea maxime. Omnis, harum illo perferendis
            cupiditate nemo alias sit, eius perspiciatis corporis odio assumenda.</p>
        <div class="container text-center border border-primary-subtle rounded-2 mb-3">
            <div class="row m-1 text-light">
                <div class="col"><b>Rating</b>
                    <p>5 Star</p>
                </div>
                <div class="col"><b>Difficulty Level</b>
                    <p>Bignner</p>
                </div>
                <div class="col"><b>Duration</b>
                    <p>22 week</p>
                </div>
                <div class="col"><b>Flexible Schedule</b>
                    <p>Learn at you own space</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container text-center border border-secondary rounded-2 mt-3 mb-3 p-5">
        <div class="row">
            <div class="col-8">
                <div class="row"><img class="shadow-lg" src="certificate.png" width="300px" height="400px">
                </div>
            </div>
            <div class="col-4">
                <h2 style="color: #2196f3;">Earn a career certificate</h2>
                <p>Add this credential to your LinkedIn profile, resume, or CV
                    Share it on social media and in your performance review
                </p>
            </div>
        </div>
    </div>
    <div class="container border border-secondary rounded-2 p-5">
        <h3>Modules of the Course</h3>
        <ul class="list-group">
            <li class="list-group-item">An item</li>
            <li class="list-group-item">A second item</li>
            <li class="list-group-item">A third item</li>
            <li class="list-group-item">A fourth item</li>
            <li class="list-group-item">And a fifth one</li>
        </ul>
    </div>
    <div class="spinner-border text-primary mt-5" style="display:none;margin:0 auto;" role="status" id="loader">
        <span class="visually-hidden">Loading...</span>
    </div>
    <p class="text-center text-danger mt-5 mb-5" id="text" style="display:none;">Thanks for Enrollment, Redirecting to
        your Course ...</p>

    <button class="btn btn-outline-primary mt-4 mb-5" style="display: block;margin: 0 auto;" id="enrolled">Enroll
        Now</button>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script>
    <script>
        function gfg(n) {
            for (var i = 1; i <= 5; i++) {
                document.getElementById(i).style.color = "black";
                document.getElementById("output").innerHTML = "Rating is : 0/5";
            }
            for (var i = 1; i <= n; i++) {
                document.getElementById(i).style.color = "rgb(220, 220, 37)";
                document.getElementById("output").innerHTML = "Rating is :" + i + "/5";
            }
            localStorage.setItem("rating", n)
        }
    </script>
    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-analytics.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js";
        const firebaseConfig = {
            apiKey: "AIzaSyCskC8FgXJxC48XzpCDRVmE9Kng2OyAbpk",
            authDomain: "open-curriculum-de09c.firebaseapp.com",
            projectId: "open-curriculum-de09c",
            storageBucket: "open-curriculum-de09c.appspot.com",
            messagingSenderId: "425347625827",
            appId: "1:425347625827:web:5603db72da26bfe87ad956",
            measurementId: "G-S9YVNWDKBT"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();
        const db = getFirestore(app);

        document.getElementById("enrolled").addEventListener("click", async () => {
            document.getElementById("enrolled").style.display = "none"
            document.getElementById("loader").style.display = "block"
            document.getElementById("text").style.display = "none"
            var instructorDataId = localStorage.getItem("tempCardId")
            var EnrolledStudentDataID = localStorage.getItem("tempCardId")
            const enroll1 = {
                [EnrolledStudentDataID]: localStorage.getItem("dataId")
            }
            const enroll2 = {
                [instructorDataId]: localStorage.getItem("tempDataId")
            }
            try {

                const docRef1 = doc(db, "Teachers", localStorage.getItem("tempDataId"), localStorage.getItem("tempCardId"), "Course", "Enrollment", "CourseEnrolled");
                const docRef2 = doc(db, "Student", localStorage.getItem("dataId"), "Enrollment", "CourseEnrolled");
                await setDoc(docRef1, enroll1, { merge: true });
                await setDoc(docRef2, enroll2, { merge: true });
                document.getElementById("enrolled").style.display = "none"
                document.getElementById("loader").style.display = "none"
                document.getElementById("text").style.display = "block"
                setInterval(() => {
                    window.location.replace("afterEnrollment.html");
                }, 3000)

            } catch (error) {
                console.log(error);
                document.getElementById("enrolled").style.display = "block"
                document.getElementById("loader").style.display = "none"
                document.getElementById("text").style.display = "none"
                alert("We have some error while sending your suggestion");
            }

        })
    </script>
</body>

</html>